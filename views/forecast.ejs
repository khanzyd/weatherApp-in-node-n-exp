<%- include('./partials/header.ejs') %>

    <div class="row justify-content-center">
        <div class="pg-content col-xl-7 col-md-11 text-center" >
            <form id="forecast-form" action="/forecast" method="POST">
                <input  id="form-ltn" type="text" name="formLtn" placeholder="Enter Location" >
                <input id="form-submit" class="btn " type="submit" value="submit" >
            </form>
            <div class="weather-card " >
                <div id="cloud-1"></div>
                <div id="cloud-2"></div>
                <div id="cloud-3"></div>
                <div id="card-background"><video muted autoplay loop src= "<%= backgroundSet %>" ></video></div>
                <div class="location">
                    <h3 id="card-location"><i class="fa-solid fa-location-dot" ></i> <%= cityName %></h3>
                    <h5 class="d-flex align-items-center justify-content-center" id="card-date-n-time">wed <span>|</span> Sep 2 <span>|</span> 11:10 PM</h5>
                </div>
                
                <div class="card-forecast">
                    <i class="<%= icon %>"></i>
                    
                    <h3 id="temp-desc"><%= cityDesc %></h3>
                </div>

                <div class="card-temp-info">
                    <h2 id="city-temp"><%= cityTemp %> &deg;C</h2>
                    <div class="min-max d-flex justify-content-center align-items-center">
                        <div id="min-info">
                            <h3>min</h3>
                            <h5><%= cityMinTemp %> &deg;C</h5>
                        </div>
                        <h2>|</h2>
                        <div id="max-info">
                            <h3>max</h3>
                            <h5><%= cityMaxTemp %> &deg;C</h5>
                        </div>
                    </div>
                </div>
                

            </div>

        </div>
    </div>

<%- include('./partials/footer.ejs') %>

<script>

    let date_time = document.querySelector("#card-date-n-time");
    // "wed | Sep 2 | 11:10 PM"
    let days = ["SUN" , "MON" , "TUE" , "WED" , "THURS" , "FRI" , "SAT"];
    let months = ["JAN" , "FEB" , "MAR" , "APR" , "MAY" , "JUN" , "JUL" , "AUG" , "SEP" , "OCT" , "NOV" , "DEC"];

    let time = new Date();
    let day = days[time.getDay()];
    let month = months[time.getMonth()];
    let current_time = time.getHours();
    let meridian = "AM";
    if(current_time > 12 ){
        current_time = current_time - 12;
        meridian = "PM";
    } else {
        meridian = "AM";
    }

    date_time.innerHTML = `${day}  <span>|</span>  ${month} ${time.getDate()}  <span>|</span>  ${current_time}:${time.getMinutes()} ${meridian}`;
    
</script>

</body>
</html>